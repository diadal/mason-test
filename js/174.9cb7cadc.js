"use strict";(self.webpackChunkmasonmahogany=self.webpackChunkmasonmahogany||[]).push([[174],{86174:(t,a,s)=>{s.r(a),s.d(a,{default:()=>mt});var e=s(83673),n=s(62323),l=s(98880);const o={class:"ps-shopping"},c={class:"container"},i={class:"ps-shopping__title"},p=(0,e.Uk)(" Shopping cart"),u={class:"ps-shopping__content"},r={class:"row"},d={class:"col-12 col-sm-7 col-md-9"},_={class:"ps-shopping__list"},h={class:"ps-shopping__table"},m={class:"table ps-table ps-table--product"},g=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",{class:"ps-product__remove"}),(0,e._)("th",{class:"ps-product__thumbnail"}),(0,e._)("th",{class:"ps-product__name"},"Product name"),(0,e._)("th",{class:"ps-product__meta"},"Unit price"),(0,e._)("th",{class:"ps-product__quantity"},"Quantity"),(0,e._)("th",{class:"ps-product__subtotal"},"Subtotal")])],-1),v={class:"ps-product__remove"},b=["onClick"],f=[(0,e._)("i",{class:"icon-cross"},null,-1)],y={class:"ps-product__thumbnail"},C=["src"],k={class:"ps-product__name"},w={class:"ps-product__meta"},P={key:0,class:"ps-product__del"},x={class:"ps-product__quantity"},I={class:"def-number-input number-input safari_only"},S=["onClick"],Q=[(0,e._)("i",{class:"icon-minus"},null,-1)],A=["value","onInput"],U=["onClick"],q=[(0,e._)("i",{class:"icon-plus"},null,-1)],D={class:"ps-product__subtotal"},F={key:0},H=[(0,e._)("td",{colspan:"6"},"No item",-1)],$={class:"ps-shopping__footer"},W={class:"ps-shopping__coupon"},z={class:"ps-shopping__button"},L={class:"col-12 col-sm-5 col-md-3"},V=(0,e._)("div",{class:"ps-shopping__label"},"Cart totals",-1),Z={class:"ps-shopping__box"},T={class:"ps-shopping__row"},O=(0,e._)("div",{class:"ps-shopping__label"},"Subtotal",-1),E={class:"ps-shopping__price"},N=(0,e.uE)('<div class="ps-shopping__label">Shipping</div><div class="ps-shopping__checkbox"><div class="form-check"><input class="form-check-input" type="radio" id="cart-free-ship" checked><label class="form-check-label" for="cart-free-ship">Free shipping</label></div><div class="form-check"><input class="form-check-input" type="radio" id="cart-ship"><label class="form-check-label" for="cart-ship">Local Pickup: $10.00</label></div></div><div class="ps-shopping__text"> Shipping options will be updated during checkout. </div>',3),R={class:"ps-shopping__form"},Y={class:"ps-shopping__group"},B={class:"ps-shopping__group"},K={class:"ps-shopping__group"},M={class:"ps-shopping__group"},j={class:"ps-shopping__row"},G=(0,e._)("div",{class:"ps-shopping__label"},"Total",-1),J={class:"ps-shopping__price"},X={class:"ps-shopping__checkout"},tt=(0,e.Uk)("Proceed to checkout"),at=(0,e.Uk)(" Continue To Shopping ");var st=s(61959),et=s(22344),nt=s(80553),lt=s(3161),ot=s(67982),ct=s(76579),it=s(23179),pt=function(t,a,s,e){return new(s||(s=Promise))((function(n,l){function o(t){try{i(e.next(t))}catch(t){l(t)}}function c(t){try{i(e.throw(t))}catch(t){l(t)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof s?a:new s((function(t){t(a)}))).then(o,c)}i((e=e.apply(t,a||[])).next())}))};const ut=(0,e.aZ)({name:"ShoppingCart",components:{Breadcrumb:et.Z,LatestProductCarousel:nt.Z,ProductWishlist:ct.Z},setup(){const t=(0,e.FN)().appContext.config.globalProperties,a=(0,e.f3)("AppData"),s=(0,e.f3)("Cart"),n=(0,e.f3)("Product"),l=(0,st.iH)([]),o=(0,st.iH)(null),c=(0,st.iH)(null),i=(0,st.iH)(null),p=(0,st.iH)(null),u=(0,st.iH)(null),r=(0,st.Fl)((()=>s.value.cartItems)),d=(0,st.Fl)((()=>n.value.cartProducts)),_=(0,st.Fl)((()=>{let t=0;return d.value.forEach((a=>{const s=m(a),e=g(a);t+=s*e})),t.toFixed(2)})),h=(0,st.Fl)((()=>{let t=0;return r.value.forEach((a=>{t+=a.quantity})),t}));function m(t){return t?t.sale_price?t.sale_price:t.price:0}function g(t){const a=r.value.find((a=>(null==a?void 0:a.id)===t.id));return a?a.quantity:1}return(0,e.bv)((()=>pt(this,void 0,void 0,(function*(){l.value=yield(0,lt.g4)("id=3&id=5&id=8&id=9&id=15&id=51&id=22&id=21&id=24&id=25"),a.value.loading=!1})))),{productQuantity:g,cartProducts:d,handleRemove:function(t){it.P.removeItem(s.value,t.id),it.P.removeOther("cartProducts",n.value,t.id)},handleClearAll:function(){s.value.cartItems=[],n.value.cartProducts=[]},handleDecreaseItem:function(t){const a={quantity:g(t)-1,id:t.id};it.P.changeCartItemQuantity(s.value,a),it.P.changeCartItemQuantityOther("cartProducts",n.value,a)},handleincreaseItem:function(t){const a={quantity:g(t)+1,id:t.id};it.P.changeCartItemQuantity(s.value,a),it.P.changeCartItemQuantityOther("cartProducts",n.value,a)},productTotal:function(t){return(m(t)*g(t)).toFixed(2)},handleUpdateCart:function(){t.$router.go(Number(t.$router.currentRoute))},handleChangeQuantity:function(t,a){if(t.data){const e=parseInt(t.data);let l={quantity:e<0?0:e,id:a.id};it.P.changeCartItemQuantity(s.value,l),it.P.changeCartItemQuantityOther("cartProducts",n.value,l)}},handleCoupon:function(){},totalCart:_,productCartQuantity:h,breadcrumb:[{url:"/",text:"Home"},{url:"/shop/shopping-cart",extraClass:"active",text:"Shopping cart"}],latestProduct:l,baseDomain:ot.FH,calculateShipping:!1,items:[{text:"Afghanistan",value:"Afghanistan"},{text:"Åland Islands",value:"Åland Islands"},{text:"Albania",value:"Albania"},{text:"Andorra",value:"Andorra"},{text:"American Samoa",value:"American Samoa"}],region:o,country:c,town:i,postcode:p,couponCode:u}}});var rt=s(74260),dt=s(69396),_t=s(7518),ht=s.n(_t);const mt=(0,rt.Z)(ut,[["render",function(t,a,s,st,et,nt){const lt=(0,e.up)("Breadcrumb"),ot=(0,e.up)("ProductWishlist"),ct=(0,e.up)("router-link"),it=(0,e.up)("q-select"),pt=(0,e.up)("LatestProductCarousel");return(0,e.wg)(),(0,e.iD)("div",o,[(0,e._)("div",c,[(0,e.Wm)(lt,{dataList:t.breadcrumb},null,8,["dataList"]),(0,e._)("h3",i,[p,(0,e._)("sup",null,"("+(0,n.zw)(t.productCartQuantity)+")",1)]),(0,e._)("div",u,[(0,e._)("div",r,[(0,e._)("div",d,[(0,e._)("ul",_,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.cartProducts,((t,a)=>((0,e.wg)(),(0,e.iD)("li",{key:a},[(0,e.Wm)(ot,{product:t,type:"cart"},null,8,["product"])])))),128))]),(0,e._)("div",h,[(0,e._)("table",m,[g,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.cartProducts,((a,s)=>((0,e.wg)(),(0,e.iD)("tr",{key:s},[(0,e._)("td",v,[(0,e._)("a",{href:"#",onClick:(0,l.iM)((s=>t.handleRemove(a)),["prevent"])},f,8,b)]),(0,e._)("td",y,[a.thumbnail?((0,e.wg)(),(0,e.j4)(ct,{key:0,class:"ps-product__image",to:`/product/details/${a.id}`},{default:(0,e.w5)((()=>[(0,e._)("figure",null,[(0,e._)("img",{src:t.baseDomain+a.thumbnail.url,alt:""},null,8,C)])])),_:2},1032,["to"])):(0,e.kq)("",!0)]),(0,e._)("td",k,[(0,e.Wm)(ct,{to:`/product/details/${a.id}`},{default:(0,e.w5)((()=>[(0,e.Uk)((0,n.zw)(a.name),1)])),_:2},1032,["to"])]),(0,e._)("td",w,[(0,e._)("span",{class:(0,n.C_)(["ps-product__price",a.sale_price?"sale":""])},"$"+(0,n.zw)(a.sale_price?a.sale_price:a.price),3),a.sale_price?((0,e.wg)(),(0,e.iD)("span",P,"$"+(0,n.zw)(a.price),1)):(0,e.kq)("",!0)]),(0,e._)("td",x,[(0,e._)("div",I,[(0,e._)("button",{class:"minus",onClick:s=>t.handleDecreaseItem(a)},Q,8,S),(0,e._)("input",{class:"quantity",min:"0",value:t.productQuantity(a),type:"number",onInput:s=>t.handleChangeQuantity(s,a)},null,40,A),(0,e._)("button",{class:"plus",onClick:s=>t.handleincreaseItem(a)},q,8,U)])]),(0,e._)("td",D," $"+(0,n.zw)(t.productTotal(a)),1)])))),128)),t.cartProducts&&t.cartProducts.length?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("tr",F,H))])])]),(0,e._)("div",$,[(0,e._)("div",W,[(0,e.wy)((0,e._)("input",{class:"form-control ps-input","onUpdate:modelValue":a[0]||(a[0]=a=>t.couponCode=a),rounded:"",placeholder:"Coupon code"},null,512),[[l.nr,t.couponCode]]),(0,e._)("button",{class:"ps-btn ps-btn--primary",type:"button",onClick:a[1]||(a[1]=a=>t.handleCoupon())}," Apply coupon ")]),(0,e._)("div",z,[(0,e._)("button",{class:"ps-btn ps-btn--primary",type:"button",onClick:a[2]||(a[2]=a=>t.handleClearAll())}," Clear All "),(0,e._)("button",{class:"ps-btn ps-btn--primary",type:"button",onClick:a[3]||(a[3]=a=>t.handleUpdateCart())}," Update cart ")])])]),(0,e._)("div",L,[V,(0,e._)("div",Z,[(0,e._)("div",T,[O,(0,e._)("div",E,"$"+(0,n.zw)(t.totalCart),1)]),N,(0,e._)("a",{class:"ps-shopping__toggle",href:"#",onClick:a[4]||(a[4]=(0,l.iM)((a=>t.calculateShipping=!t.calculateShipping),["prevent"]))},"Calculate shipping"),(0,e.wy)((0,e._)("div",R,[(0,e._)("div",Y,[(0,e.Wm)(it,{items:t.items,rounded:"",class:"ps-input",modelValue:t.region,"onUpdate:modelValue":a[5]||(a[5]=a=>t.region=a),"item-text":"text","item-value":"value"},null,8,["items","modelValue"])]),(0,e._)("div",B,[(0,e.wy)((0,e._)("input",{class:"form-control ps-input","onUpdate:modelValue":a[6]||(a[6]=a=>t.country=a),rounded:"",placeholder:"County"},null,512),[[l.nr,t.country]])]),(0,e._)("div",K,[(0,e.wy)((0,e._)("input",{class:"form-control ps-input","onUpdate:modelValue":a[7]||(a[7]=a=>t.town=a),rounded:"",placeholder:"Town / City"},null,512),[[l.nr,t.town]])]),(0,e._)("div",M,[(0,e.wy)((0,e._)("input",{class:"form-control ps-input","onUpdate:modelValue":a[8]||(a[8]=a=>t.postcode=a),rounded:"",placeholder:"Postcode"},null,512),[[l.nr,t.postcode]])])],512),[[l.F8,t.calculateShipping]]),(0,e._)("div",j,[G,(0,e._)("div",J,"$"+(0,n.zw)(t.totalCart),1)]),(0,e._)("div",X,[(0,e.Wm)(ct,{class:"ps-btn ps-btn--warning",to:"/shop/checkout"},{default:(0,e.w5)((()=>[tt])),_:1}),(0,e.Wm)(ct,{class:"ps-shopping__link",to:"/shop"},{default:(0,e.w5)((()=>[at])),_:1})])])])])])]),(0,e.Wm)(pt,{title:"You may be interested in…",dataList:t.latestProduct},null,8,["dataList"])])}]]);ht()(ut,"components",{QSelect:dt.Z})}}]);